# =============================================================================
# Portsie Environment Variables
# =============================================================================
# Copy this file to .env.local and fill in your values.
# .env.local is gitignored and will not be committed.

# -----------------------------------------------------------------------------
# Supabase (required)
# -----------------------------------------------------------------------------
# Client-side (public) — used by @supabase/ssr in browser
NEXT_PUBLIC_SUPABASE_URL=your-supabase-url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key

# Server-side — used by admin client, version bump script, etc.
SUPABASE_URL=your-supabase-url
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key

# -----------------------------------------------------------------------------
# Encryption (required)
# -----------------------------------------------------------------------------
# AES-256-GCM key for encrypting per-user secrets in the database
# (Schwab tokens, Schwab credentials, LLM API keys)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
SCHWAB_TOKEN_ENCRYPTION_KEY=your-64-char-hex-key

# -----------------------------------------------------------------------------
# LLM / Claude (per-user, NOT a global env var)
# -----------------------------------------------------------------------------
# Anthropic API keys are stored per-user in the `llm_settings` table,
# encrypted with SCHWAB_TOKEN_ENCRYPTION_KEY. Users configure their
# LLM backend (CLI or API mode) in Dashboard → Settings → LLM tab.
#
# No global ANTHROPIC_API_KEY is needed.
#
# CLI mode (default): uses `claude -p` subprocess or a remote HTTP endpoint.
# API mode: uses @anthropic-ai/sdk with the user's own API key.

# -----------------------------------------------------------------------------
# CLI Wrapper (optional — only if using remote CLI endpoint)
# -----------------------------------------------------------------------------
# Shared secret for authenticating with the DO-hosted CLI wrapper service.
# Must match the AUTH_TOKEN in the CLI wrapper's .env on the server.
PORTSIE_CLI_AUTH_TOKEN=your-shared-secret

# Default CLI endpoint URL. Used when user has no custom endpoint configured.
# Without this, CLI mode falls back to local subprocess (fails on Vercel).
PORTSIE_CLI_ENDPOINT=http://159.89.157.120:8910/extract

# -----------------------------------------------------------------------------
# Logo.dev (optional)
# -----------------------------------------------------------------------------
# Publishable key for Logo.dev API — serves company logos on brokerage selection.
# Get a free key at https://logo.dev/dashboard/api-keys
NEXT_PUBLIC_LOGO_DEV_TOKEN=your-logo-dev-publishable-key

# -----------------------------------------------------------------------------
# Quiltt Connect (for bank/brokerage account linking)
# -----------------------------------------------------------------------------
# Secret key for server-side Quiltt session creation.
# Find this in the Quiltt Dashboard under API Keys.
QUILTT_SECRET_KEY=sk_...

# Connector ID configured in Quiltt Dashboard (client-side, safe to expose).
NEXT_PUBLIC_QUILTT_CONNECTOR_ID=conn_...
